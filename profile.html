<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Editar Perfil</title>
    <link rel="stylesheet" href="profile.css">
    <link rel="stylesheet" href="dashboard.css">
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body>
    <div class="container profile-page-container">
        <div id="profile-card" class="card dashboard-hidden">
            <div class="profile-header">
                <button id="back-to-dashboard-btn" class="btn btn-back">
                    <i class="fas fa-arrow-left"></i> Regresar
                </button>

                <button id="configure-btn" class="btn btn-configure">
                    <i class="fas fa-cog"></i> Configurar
                </button>
            </div>

            <h2>Tu Perfil</h2>

            <!-- Sección del Avatar - IDs actualizados para coincidir con script.js -->
            <div class="profile-avatar-section">
                <div class="avatar-wrapper">
                    <img id="avatar-img" src="https://cdn-icons-png.flaticon.com/512/3135/3135715.png" 
                         alt="Avatar del usuario" class="avatar-image">
                    <div class="avatar-overlay" id="change-avatar-btn">
                        <i class="fas fa-camera"></i>
                    </div>
                </div>
                <input type="file" id="avatar-upload" accept="image/png, image/jpeg, image/webp" 
                       class="avatar-upload-input">
                <p class="avatar-instructions">Haz clic para cambiar tu foto de perfil</p>
            </div>

            <!-- Sección de información del usuario -->
            <div class="profile-info-section">
                <div class="profile-email">
                    <i class="fas fa-envelope"></i>
                    <span id="user-email-profile">Cargando...</span>
                </div>

                <div class="currency-display">
                    <div class="currency-card gold-card">
                        <i class="fas fa-coins"></i>
                        <div>
                            <span id="gold-display-profile">0</span>
                            <span>Oro</span>
                        </div>
                    </div>
                    <div class="currency-card diamond-card">
                        <i class="fas fa-gem"></i>
                        <div>
                            <span id="diamonds-display-profile">0</span>
                            <span>Diamantes</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Formulario de edición -->
            <div class="profile-edit-form">
                <h3><i class="fas fa-user-edit"></i> Editar Información</h3>
                
                <div class="form-group">
                    <label for="edit-username"><i class="fas fa-user"></i> Nombre de usuario</label>
                    <input type="text" id="edit-username" placeholder="Ingresa tu nombre">
                </div>
                
                <div class="form-group">
                    <label for="edit-country"><i class="fas fa-globe"></i> País</label>
                    <input type="text" id="edit-country" placeholder="Ingresa tu país">
                </div>
                
                <button id="save-profile-btn" class="btn btn-save">
                    <i class="fas fa-save"></i> Guardar Cambios
                </button>
            </div>
        </div>

        <!-- Loader -->
        <div id="loader" class="loader">
            <div class="loader-spinner"></div>
            <p class="loader-text">Cargando perfil...</p>
        </div>
    </div>

    <!-- Script externo -->
    <script type="module" src="script.js"></script>
</body>
</html>